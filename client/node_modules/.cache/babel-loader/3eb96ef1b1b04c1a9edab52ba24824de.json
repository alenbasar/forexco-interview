{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport axios from \"axios\";\n\nconst useAuth = async () => {\n  _s();\n\n  const [authenticated, setAuthenticated] = useState(false);\n  let tokenFromStorage = localStorage.getItem(\"token\");\n\n  if (!tokenFromStorage) {\n    throw new Error(\"No token supplied\");\n  }\n\n  try {\n    await axios.get(\"http://localhost:8000/userAuth\", {\n      headers: {\n        \"x-auth-token\": tokenFromStorage\n      }\n    }).then(res => {\n      console.log(res);\n      setAuthenticated(true);\n    });\n  } catch (error) {\n    console.log(error);\n  }\n\n  return authenticated;\n};\n\n_s(useAuth, \"zbs8MFqNgUfPgDkZLeejYXFpdoQ=\");\n\nexport default useAuth;","map":{"version":3,"names":["useState","axios","useAuth","authenticated","setAuthenticated","tokenFromStorage","localStorage","getItem","Error","get","headers","then","res","console","log","error"],"sources":["/home/alenbasar/Development/currency-transfer/client/src/constants/userAuth.ts"],"sourcesContent":["import { useState } from \"react\";\nimport axios, { HeadersDefaults } from \"axios\";\n\ninterface CommonHeaderProperties extends HeadersDefaults {\n  \"x-auth-token\": string | null;\n  auth: boolean;\n}\n\nconst useAuth = async () => {\n  const [authenticated, setAuthenticated] = useState(false);\n  let tokenFromStorage = localStorage.getItem(\"token\");\n  if (!tokenFromStorage) {\n    throw new Error(\"No token supplied\");\n  }\n  try {\n    await axios\n      .get<CommonHeaderProperties>(\"http://localhost:8000/userAuth\", {\n        headers: {\n          \"x-auth-token\": tokenFromStorage,\n        },\n      })\n      .then((res) => {\n        console.log(res);\n        setAuthenticated(true);\n      });\n  } catch (error) {\n    console.log(error);\n  }\n\n  return authenticated;\n};\n\nexport default useAuth;\n"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAuC,OAAvC;;AAOA,MAAMC,OAAO,GAAG,YAAY;EAAA;;EAC1B,MAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCJ,QAAQ,CAAC,KAAD,CAAlD;EACA,IAAIK,gBAAgB,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAvB;;EACA,IAAI,CAACF,gBAAL,EAAuB;IACrB,MAAM,IAAIG,KAAJ,CAAU,mBAAV,CAAN;EACD;;EACD,IAAI;IACF,MAAMP,KAAK,CACRQ,GADG,CACyB,gCADzB,EAC2D;MAC7DC,OAAO,EAAE;QACP,gBAAgBL;MADT;IADoD,CAD3D,EAMHM,IANG,CAMGC,GAAD,IAAS;MACbC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MACAR,gBAAgB,CAAC,IAAD,CAAhB;IACD,CATG,CAAN;EAUD,CAXD,CAWE,OAAOW,KAAP,EAAc;IACdF,OAAO,CAACC,GAAR,CAAYC,KAAZ;EACD;;EAED,OAAOZ,aAAP;AACD,CAtBD;;GAAMD,O;;AAwBN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}